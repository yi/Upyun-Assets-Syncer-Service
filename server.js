// Generated by CoffeeScript 1.6.3
(function() {
  var app, io, server;

  app = require('express')();

  server = require('http').createServer(app);

  io = require('socket.io').listen(server);

  server.listen(8088);

  app.get('/', function(req, res) {
    return res.sendfile(__dirname + '/index.html');
  });

  io.sockets.on('connection', function(socket) {
    var count;
    socket.emit('news', {
      hello: 'world'
    });
    count = 0;
    setInterval(function() {
      return socket.emit('news', {
        count: ++count
      });
    }, 2000);
    return socket.on('action', function(data) {
      return console.log(data);
    });
  });

  return;

}).call(this);
